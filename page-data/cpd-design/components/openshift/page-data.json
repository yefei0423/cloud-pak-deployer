{"componentChunkName":"component---src-pages-cpd-design-components-openshift-index-mdx","path":"/cpd-design/components/openshift/","result":{"pageContext":{"frontmatter":{"title":"OpenShift"},"relativePagePath":"/cpd-design/components/openshift/index.mdx","titleType":"page","MdxNode":{"id":"19903d73-b3aa-5497-b370-53353a963768","children":[],"parent":"fbcacc42-3db6-56dd-a8a9-d55af7a1e178","internal":{"content":"---\ntitle: OpenShift\n---\n\n# OpenShift cluster(s)\n\nYou can configure one or more OpenShift clusters that will be layed down on the specified infrastructure, or which already exist.\n\nDependent on the cloud platform on which the OpenShift cluster will be provisioned, different installation methods apply. For IBM Cloud, Terraform is used, whereas for vSphere the IPI installer is used. On AWS (ROSA), the `rosa` CLI is used to create and modify ROSA clusters. Each of the different platforms have slightly different properties for the `openshift` objects.\n\nFor a reference of the various `openshift` objects refer to [OpenShift object](/cpd-design/objects/openshift). Example of a ROKS `openshift` definition based on OpenShift 4.8, 3 compute nodes and OCS storage is below.\n```\nopenshift:\n- name: sample\n  managed: True\n  ocp_version: 4.8\n  compute_flavour: bx2.16x64\n  compute_nodes: 3\n  infrastructure:\n    type: vpc\n    vpc_name: sample\n    subnets:\n    - sample-subnet-zone-1\n    - sample-subnet-zone-2\n    - sample-subnet-zone-3\n  openshift_storage:\n  - storage_type: ocs\n    ocs_storage_label: ocs\n    ocs_storage_size_gb: 500\n```\n\n## Storage\nAn OpenShift cluster also defines the type(s) of storage that it will provide. When the OpenShift cluster is provisioned by the deployer, the necessary infrastructure and storage class(es) are also configured. In case an existing OpenShift cluster is referenced by the configuration, the storage classes are expected to exist already.\n\nThe table below indicates which storage classes are supported by the Cloud Pak Deployer per cloud infrastructure.\n\n<InlineNotification kind=\"warning\">\nThe ability to provision or use certain storage types does not imply support by the Cloud Paks. There are several restrictions for production use OpenShift Data Foundation, for example when on ROSA.\n</InlineNotification>\n\n| Cloud Provider | NFS Storage | OCS/ODF Storage | Portworx | Elastic | Custom (2) |\n| -------------- | ----------- | --------------- | ---------| ------- } ---------- |\n| ibm-cloud      | Yes         | Yes             | Yes      | No      | Yes        |\n| vsphere        | Yes (1)     | Yes             | No       | No      | Yes        |\n| aws            | No          | Yes             | No       | Yes (3) | Yes        |\n| azure          | No          | Yes             | No       | No      | Yes        |\n| existing-ocp   | Yes         | Yes             | No       | No      | Yes        |\n\n(1) An existing NFS server can be specified so that the deployer configures the `managed-nfs-storage` storage class. The deployer will not provision or change the NFS server itself.\n(2) If you specify a `custom` storage type, you must specify the storage class to be used for block (RWO) and file (RWX) storage.\n(3) Specifying this storage type means that Elastic File Storage (EFS) and Elastic Block Storage (EBS) storage classes will be used. For EFS, an `nfs_server` object is required to define the \"file server\" storage on AWS.","type":"Mdx","contentDigest":"bf8c82b06ddb2c005767c88003f79aa5","owner":"gatsby-plugin-mdx","counter":253},"frontmatter":{"title":"OpenShift"},"exports":{},"rawBody":"---\ntitle: OpenShift\n---\n\n# OpenShift cluster(s)\n\nYou can configure one or more OpenShift clusters that will be layed down on the specified infrastructure, or which already exist.\n\nDependent on the cloud platform on which the OpenShift cluster will be provisioned, different installation methods apply. For IBM Cloud, Terraform is used, whereas for vSphere the IPI installer is used. On AWS (ROSA), the `rosa` CLI is used to create and modify ROSA clusters. Each of the different platforms have slightly different properties for the `openshift` objects.\n\nFor a reference of the various `openshift` objects refer to [OpenShift object](/cpd-design/objects/openshift). Example of a ROKS `openshift` definition based on OpenShift 4.8, 3 compute nodes and OCS storage is below.\n```\nopenshift:\n- name: sample\n  managed: True\n  ocp_version: 4.8\n  compute_flavour: bx2.16x64\n  compute_nodes: 3\n  infrastructure:\n    type: vpc\n    vpc_name: sample\n    subnets:\n    - sample-subnet-zone-1\n    - sample-subnet-zone-2\n    - sample-subnet-zone-3\n  openshift_storage:\n  - storage_type: ocs\n    ocs_storage_label: ocs\n    ocs_storage_size_gb: 500\n```\n\n## Storage\nAn OpenShift cluster also defines the type(s) of storage that it will provide. When the OpenShift cluster is provisioned by the deployer, the necessary infrastructure and storage class(es) are also configured. In case an existing OpenShift cluster is referenced by the configuration, the storage classes are expected to exist already.\n\nThe table below indicates which storage classes are supported by the Cloud Pak Deployer per cloud infrastructure.\n\n<InlineNotification kind=\"warning\">\nThe ability to provision or use certain storage types does not imply support by the Cloud Paks. There are several restrictions for production use OpenShift Data Foundation, for example when on ROSA.\n</InlineNotification>\n\n| Cloud Provider | NFS Storage | OCS/ODF Storage | Portworx | Elastic | Custom (2) |\n| -------------- | ----------- | --------------- | ---------| ------- } ---------- |\n| ibm-cloud      | Yes         | Yes             | Yes      | No      | Yes        |\n| vsphere        | Yes (1)     | Yes             | No       | No      | Yes        |\n| aws            | No          | Yes             | No       | Yes (3) | Yes        |\n| azure          | No          | Yes             | No       | No      | Yes        |\n| existing-ocp   | Yes         | Yes             | No       | No      | Yes        |\n\n(1) An existing NFS server can be specified so that the deployer configures the `managed-nfs-storage` storage class. The deployer will not provision or change the NFS server itself.\n(2) If you specify a `custom` storage type, you must specify the storage class to be used for block (RWO) and file (RWX) storage.\n(3) Specifying this storage type means that Elastic File Storage (EFS) and Elastic Block Storage (EBS) storage classes will be used. For EFS, an `nfs_server` object is required to define the \"file server\" storage on AWS.","fileAbsolutePath":"/home/runner/work/cloud-pak-deployer/cloud-pak-deployer/doc/src/pages/cpd-design/components/openshift/index.mdx"}}},"staticQueryHashes":["1364590287","137577622","137577622","2102389209","2102389209","2456312558","2746626797","2746626797","3018647132","3018647132","3037994772","3037994772","768070550"]}