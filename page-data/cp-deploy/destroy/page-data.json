{"componentChunkName":"component---src-pages-cp-deploy-destroy-index-mdx","path":"/cp-deploy/destroy/","result":{"pageContext":{"frontmatter":{"title":"Destroy Cloud resources","tabs":["Destroy Cloud resources"]},"relativePagePath":"/cp-deploy/destroy/index.mdx","titleType":"page","MdxNode":{"id":"c69d07df-a835-5bda-ba59-898bf2136aed","children":[],"parent":"dc06bc85-769c-554e-b0ef-2d437b519296","internal":{"content":"---\ntitle: Destroy Cloud resources\ntabs: [\"Destroy Cloud resources\"]\n---\n\n# Destroy the created resources\n\nIf you have previously used the Cloud Pak Deployer to create assets on IBM Cloud, AWS or Azure, you can destroy the assets with the same command.\n\n<InlineNotification kind=\"info\">\n  Currently, destroy is only implemented for IBM Cloud ROKS, AWS ROSA and Azure\n  ARO, not for other cloud platforms.\n</InlineNotification>\n\n## Prepare for destroy\n\n### Prepare for destroy on IBM Cloud\n\n#### Set environment variables for IBM Cloud\n\n```\nexport IBM_CLOUD_API_KEY=your_api_key\n\nexport STATUS_DIR=/data/status/sample\nexport CONFIG_DIR=/data/config/sample\n```\n\n- `IBM_CLOUD_API_KEY`: This is the API key you generated using your IBM Cloud account, this is a 40+ character string\n- `STATUS_DIR`: The directory where the Cloud Pak Deployer keeps all status information and log files. **Please note** that if you have chosen to use a File Vault, the directory specified must be the one you used when you created the environment\n- `CONFIG_DIR`: Directory that holds the configuration. This must be the same directory you used when you created the environment\n\n### Prepare for destroy on AWS\n\n#### Set environment variables for AWS\n\nWe assume that the vault already holds the mandatory secrets for AWS Access Key, Secret Access Key and ROSA login token.\n\n```\nexport STATUS_DIR=/data/status/sample\nexport CONFIG_DIR=/data/config/sample\n```\n\n- `STATUS_DIR`: The directory where the Cloud Pak Deployer keeps all status information and log files. **Please note** that if you have chosen to use a File Vault, the directory specified must be the one you used when you created the environment\n- `CONFIG_DIR`: Directory that holds the configuration. This must be the same directory you used when you created the environment\n\n### Prepare for destroy on Azure\n\n#### Set environment variables for Azure\n\nWe assume that the vault already holds the mandatory secrets for Azure - Service principal id and its password, tenant id and ARO login token.\n\n```\nexport STATUS_DIR=/data/status/sample\nexport CONFIG_DIR=/data/config/sample\n```\n\n- `STATUS_DIR`: The directory where the Cloud Pak Deployer keeps all status information and log files. **Please note** that if you have chosen to use a File Vault, the directory specified must be the one you used when you created the environment\n- `CONFIG_DIR`: Directory that holds the configuration. This must be the same directory you used when you created the environment\n\n## Run the Cloud Pak Deployer to destroy the assets\n\n```\n./cp-deploy.sh env destroy -e env_id=pluto-01 --confirm-destroy\n```\n\nPlease ensure you specify the same extra (dynamic) variables that you used when you ran the `env apply` command.\n\nWhen running the command, the container will start as a daemon and the command will tail-follow the logs. You can press Ctrl-C at any time to interrupt the logging but the container will continue to run in the background.\n\nYou can return to view the logs as follows:\n\n```\n./cp-deploy.sh env logs\n```\n\nIf you need to interrupt the process, use CTRL-C to stop the logging output and then use:\n\n```\n./cp-deploy.sh env kill\n```\n\n## Finishing up\n\nOnce the process has finished successfully, you can delete the status directory.\n","type":"Mdx","contentDigest":"4b80d1c823fafcdebb236ab4286f20bb","owner":"gatsby-plugin-mdx","counter":201},"frontmatter":{"title":"Destroy Cloud resources","tabs":["Destroy Cloud resources"]},"exports":{},"rawBody":"---\ntitle: Destroy Cloud resources\ntabs: [\"Destroy Cloud resources\"]\n---\n\n# Destroy the created resources\n\nIf you have previously used the Cloud Pak Deployer to create assets on IBM Cloud, AWS or Azure, you can destroy the assets with the same command.\n\n<InlineNotification kind=\"info\">\n  Currently, destroy is only implemented for IBM Cloud ROKS, AWS ROSA and Azure\n  ARO, not for other cloud platforms.\n</InlineNotification>\n\n## Prepare for destroy\n\n### Prepare for destroy on IBM Cloud\n\n#### Set environment variables for IBM Cloud\n\n```\nexport IBM_CLOUD_API_KEY=your_api_key\n\nexport STATUS_DIR=/data/status/sample\nexport CONFIG_DIR=/data/config/sample\n```\n\n- `IBM_CLOUD_API_KEY`: This is the API key you generated using your IBM Cloud account, this is a 40+ character string\n- `STATUS_DIR`: The directory where the Cloud Pak Deployer keeps all status information and log files. **Please note** that if you have chosen to use a File Vault, the directory specified must be the one you used when you created the environment\n- `CONFIG_DIR`: Directory that holds the configuration. This must be the same directory you used when you created the environment\n\n### Prepare for destroy on AWS\n\n#### Set environment variables for AWS\n\nWe assume that the vault already holds the mandatory secrets for AWS Access Key, Secret Access Key and ROSA login token.\n\n```\nexport STATUS_DIR=/data/status/sample\nexport CONFIG_DIR=/data/config/sample\n```\n\n- `STATUS_DIR`: The directory where the Cloud Pak Deployer keeps all status information and log files. **Please note** that if you have chosen to use a File Vault, the directory specified must be the one you used when you created the environment\n- `CONFIG_DIR`: Directory that holds the configuration. This must be the same directory you used when you created the environment\n\n### Prepare for destroy on Azure\n\n#### Set environment variables for Azure\n\nWe assume that the vault already holds the mandatory secrets for Azure - Service principal id and its password, tenant id and ARO login token.\n\n```\nexport STATUS_DIR=/data/status/sample\nexport CONFIG_DIR=/data/config/sample\n```\n\n- `STATUS_DIR`: The directory where the Cloud Pak Deployer keeps all status information and log files. **Please note** that if you have chosen to use a File Vault, the directory specified must be the one you used when you created the environment\n- `CONFIG_DIR`: Directory that holds the configuration. This must be the same directory you used when you created the environment\n\n## Run the Cloud Pak Deployer to destroy the assets\n\n```\n./cp-deploy.sh env destroy -e env_id=pluto-01 --confirm-destroy\n```\n\nPlease ensure you specify the same extra (dynamic) variables that you used when you ran the `env apply` command.\n\nWhen running the command, the container will start as a daemon and the command will tail-follow the logs. You can press Ctrl-C at any time to interrupt the logging but the container will continue to run in the background.\n\nYou can return to view the logs as follows:\n\n```\n./cp-deploy.sh env logs\n```\n\nIf you need to interrupt the process, use CTRL-C to stop the logging output and then use:\n\n```\n./cp-deploy.sh env kill\n```\n\n## Finishing up\n\nOnce the process has finished successfully, you can delete the status directory.\n","fileAbsolutePath":"/home/runner/work/cloud-pak-deployer/cloud-pak-deployer/doc/src/pages/cp-deploy/destroy/index.mdx"}}},"staticQueryHashes":["1364590287","137577622","137577622","2102389209","2102389209","2456312558","2746626797","2746626797","3018647132","3018647132","3037994772","3037994772","768070550"]}