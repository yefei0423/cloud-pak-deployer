(window.webpackJsonp=window.webpackJsonp||[]).push([[80],{"013z":function(e,t,a){"use strict";var n=a("q1tI"),o=a.n(n),c=a("NmYn"),r=a.n(c),l=a("Wbzz"),b=a("Xrax"),i=a("k4MR"),s=a("TSYQ"),d=a.n(s),m=a("QH2O"),u=a.n(m),p=a("qKvR"),j=function(e){var t,a=e.title,n=e.theme,o=e.tabs,c=void 0===o?[]:o;return Object(p.b)("div",{className:d()(u.a.pageHeader,(t={},t[u.a.withTabs]=c.length,t[u.a.darkMode]="dark"===n,t))},Object(p.b)("div",{className:"bx--grid"},Object(p.b)("div",{className:"bx--row"},Object(p.b)("div",{className:"bx--col-lg-12"},Object(p.b)("h1",{id:"page-title",className:u.a.text},a)))))},g=a("BAC9"),h=function(e){var t=e.relativePagePath,a=e.repository,n=Object(l.useStaticQuery)("1364590287").site.siteMetadata.repository,o=a||n,c=o.baseUrl,r=o.subDirectory,b=c+"/edit/"+o.branch+r+"/src/pages"+t;return c?Object(p.b)("div",{className:"bx--row "+g.row},Object(p.b)("div",{className:"bx--col"},Object(p.b)("a",{className:g.link,href:b},"Edit this page on GitHub"))):null},O=a("FCXl"),x=a("dI71"),f=a("I8xM"),v=function(e){function t(){return e.apply(this,arguments)||this}return Object(x.a)(t,e),t.prototype.render=function(){var e=this.props,t=e.title,a=e.tabs,n=e.slug,o=n.split("/").filter(Boolean).slice(-1)[0],c=a.map((function(e){var t,a=r()(e,{lower:!0,strict:!0}),c=a===o,b=new RegExp(o+"/?(#.*)?$"),i=n.replace(b,a);return Object(p.b)("li",{key:e,className:d()((t={},t[f.selectedItem]=c,t),f.listItem)},Object(p.b)(l.Link,{className:f.link,to:""+i},e))}));return Object(p.b)("div",{className:f.tabsContainer},Object(p.b)("div",{className:"bx--grid"},Object(p.b)("div",{className:"bx--row"},Object(p.b)("div",{className:"bx--col-lg-12 bx--col-no-gutter"},Object(p.b)("nav",{"aria-label":t},Object(p.b)("ul",{className:f.list},c))))))},t}(o.a.Component),k=a("MjG9"),w=a("CzIb"),T=a("Asxa"),N=a("OIbQ"),C=a.n(N),P=function(e){var t=e.date,a=new Date(t);return t?Object(p.b)(T.c,{className:C.a.row},Object(p.b)(T.a,null,Object(p.b)("div",{className:C.a.text},"Page last updated: ",a.toLocaleDateString("en-GB",{day:"2-digit",year:"numeric",month:"long"})))):null};t.a=function(e){var t=e.pageContext,a=e.children,n=e.location,o=e.Title,c=t.frontmatter,s=void 0===c?{}:c,d=t.relativePagePath,m=t.titleType,u=s.tabs,g=s.title,x=s.theme,f=s.description,T=s.keywords,N=s.date,C=Object(w.a)().interiorTheme,y=Object(l.useStaticQuery)("2456312558").site.pathPrefix,I=y?n.pathname.replace(y,""):n.pathname,R=u?I.split("/").filter(Boolean).slice(-1)[0]||r()(u[0],{lower:!0}):"",D=x||C;return Object(p.b)(i.a,{tabs:u,homepage:!1,theme:D,pageTitle:g,pageDescription:f,pageKeywords:T,titleType:m},Object(p.b)(j,{title:o?Object(p.b)(o,null):g,label:"label",tabs:u,theme:D}),u&&Object(p.b)(v,{title:g,slug:I,tabs:u,currentTab:R}),Object(p.b)(k.a,{padded:!0},a,Object(p.b)(h,{relativePagePath:d}),Object(p.b)(P,{date:N})),Object(p.b)(O.a,{pageContext:t,location:n,slug:I,tabs:u,currentTab:R}),Object(p.b)(b.a,null))}},BAC9:function(e,t,a){e.exports={bxTextTruncateEnd:"EditLink-module--bx--text-truncate--end--2pqje",bxTextTruncateFront:"EditLink-module--bx--text-truncate--front--3_lIE",link:"EditLink-module--link--1qzW3",row:"EditLink-module--row--1B9Gk"}},I8xM:function(e,t,a){e.exports={bxTextTruncateEnd:"PageTabs-module--bx--text-truncate--end--267NA",bxTextTruncateFront:"PageTabs-module--bx--text-truncate--front--3xEQF",tabsContainer:"PageTabs-module--tabs-container--8N4k0",list:"PageTabs-module--list--3eFQc",listItem:"PageTabs-module--list-item--nUmtD",link:"PageTabs-module--link--1mDJ1",selectedItem:"PageTabs-module--selected-item--YPVr3"}},OIbQ:function(e,t,a){e.exports={bxTextTruncateEnd:"last-modified-date-module--bx--text-truncate--end--123zi",bxTextTruncateFront:"last-modified-date-module--bx--text-truncate--front--3xeKz",text:"last-modified-date-module--text--24m-4",row:"last-modified-date-module--row--2BquN"}},QH2O:function(e,t,a){e.exports={bxTextTruncateEnd:"PageHeader-module--bx--text-truncate--end--mZWeX",bxTextTruncateFront:"PageHeader-module--bx--text-truncate--front--3zvrI",pageHeader:"PageHeader-module--page-header--3hIan",darkMode:"PageHeader-module--dark-mode--hBrwL",withTabs:"PageHeader-module--with-tabs--3nKxA",text:"PageHeader-module--text--o9LFq"}},S1R1:function(e,t,a){"use strict";a.r(t),a.d(t,"_frontmatter",(function(){return b})),a.d(t,"default",(function(){return d}));var n=a("wx14"),o=a("zLVn"),c=(a("q1tI"),a("7ljp")),r=a("013z"),l=(a("qKvR"),["components"]),b={},i={_frontmatter:b},s=r.a;function d(e){var t=e.components,a=Object(o.a)(e,l);return Object(c.b)(s,Object(n.a)({},i,a,{components:t,mdxType:"MDXLayout"}),Object(c.b)("h1",null,"Uninstall Cloud Pak for Data and Foundational Services"),Object(c.b)("h2",null,"Check all IBM CRs in the Cloud Pak for Data project"),Object(c.b)("pre",null,Object(c.b)("code",{parentName:"pre"},"oc project zen-40\noc get $(oc api-resources --namespaced=true --verbs=list -o name | grep ibm | awk '{printf \"%s%s\",sep,$0;sep=\",\"}')  --ignore-not-found -o=custom-columns=KIND:.kind,NAME:.metadata.name --sort-by='kind'\n")),Object(c.b)("h2",null,"Remove all cartridge CRs"),Object(c.b)("pre",null,Object(c.b)("code",{parentName:"pre"},"oc delete wkc --all\noc delete ws --all\noc delete wmlbase --all\noc delete ccs --all\n...\n")),Object(c.b)("p",null,"If you want to, you can hit Ctrl-C when deleting the CCS object, the deletion continues to be carried out in the background by the operator. "),Object(c.b)("h2",null,"Remove Cloud Pak for Data CR"),Object(c.b)("p",null,Object(c.b)("strong",{parentName:"p"}," IMPORTANT: You must now wait until all CRs have been deleted from the namespace before deleting the Ibmcpd CR.")),Object(c.b)("pre",null,Object(c.b)("code",{parentName:"pre"},"oc delete ibmcpd --all\n")),Object(c.b)("p",null,"Repeat the command to check all CRs in the cluster and wait until all objects in the Cloud Pak for Data namespace have been deleted."),Object(c.b)("h2",null,"Delete CP4D namespace"),Object(c.b)("p",null,"Now you can delete the CP4D namespace. This can take a few minutes."),Object(c.b)("pre",null,Object(c.b)("code",{parentName:"pre"},"oc delete namespace zen-40\n")),Object(c.b)("h2",null,"Remove Foundational Services"),Object(c.b)("h3",null,"Check CRs in ibm-common-services"),Object(c.b)("pre",null,Object(c.b)("code",{parentName:"pre"},"oc project ibm-common-services\noc get $(oc api-resources --namespaced=true --verbs=list -o name | grep ibm | awk '{printf \"%s%s\",sep,$0;sep=\",\"}')  --ignore-not-found -o=custom-columns=KIND:.kind,NAME:.metadata.name --sort-by='kind'\n")),Object(c.b)("h3",null,"Remove CommonService operator"),Object(c.b)("pre",null,Object(c.b)("code",{parentName:"pre"},"oc project ibm-common-services\noc delete CommonService common-service\noc delete sub -l operators.coreos.com/ibm-common-service-operator.ibm-common-services\noc delete csv -l operators.coreos.com/ibm-common-service-operator.ibm-common-services\n\noc delete operandrequest --all\n\noc delete operandconfig --all\n\noc delete operandregistry --all\n\noc delete nss --all\n\noc delete sub --all\noc delete csv --all\n\noc delete ns ibm-common-services\n\noc delete catsrc -n openshift-marketplace \\\n    $(oc get catsrc -n openshift-marketplace \\\n    --no-headers | grep -i ibm | awk '{print $1}')\n")),Object(c.b)("h3",null,"Clean up left-over objects"),Object(c.b)("p",null,"Most of the below commands will issue an error because the object no longer exists."),Object(c.b)("pre",null,Object(c.b)("code",{parentName:"pre"},"oc -n kube-system delete secret icp-metering-api-secret \noc -n kube-public delete configmap ibmcloud-cluster-info\noc -n kube-public delete secret ibmcloud-cluster-ca-cert\noc delete ValidatingWebhookConfiguration cert-manager-webhook ibm-cs-ns-mapping-webhook-configuration --ignore-not-found\noc delete MutatingWebhookConfiguration cert-manager-webhook ibm-common-service-webhook-configuration ibm-operandrequest-webhook-configuration namespace-admission-config --ignore-not-found\noc delete namespace services\noc delete nss --all\n")))}d.isMDXComponent=!0}}]);
//# sourceMappingURL=component---src-pages-troubleshooting-cp-4-d-uninstall-mdx-f6911f0630c70fe4d349.js.map